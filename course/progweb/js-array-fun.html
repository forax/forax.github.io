<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>JavaScript - Array and functional programming</title>

		<meta name="description" content="javascript, array, functional programming">
		<meta name="author" content="Remi Forax">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		
		<!-- autojs result -->
		<style>
		  div.autojsresult {
		    text-align: left;
		    color: lime;
		  }
		  div.autojslog {
		    color: orange;
		  }
		  div.autojserror {
		    color: red;
		  }
		  .bad-container {
            position: relative;
            display:inline-block;
          }
		  .bad-image:after {
            content: url(images/js/bad.png);
            position: absolute;
            z-index: 9999;
            right: 5px;
            bottom: 0px;
          }
		</style>
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                                <section>
					<h1>JavaScript</h1>
                                       <br/>
                                        <h2>Tableaux &amp; prog fonctionnelle</h2>
					<p>
					  Remi Forax
					</p>
				</section>
				<section>
				                        <h2>Les Tableaux</h2>
				</section>
				<section>
                                        <h2>Array ?</h2>
					<blockquote cite="https://en.wikipedia.org/wiki/Array_data_structure">
					  &ldquo;In computer science, an array data structure, or simply an array, is a data structure consisting of a collection of elements (values or variables), each identified by at least one array index or key.&rdquo;
					</blockquote>
                                        <p align="right">
                                         source: Wikipedia.org - <a href="https://en.wikipedia.org/wiki/Array_data_structure">Array</a>
                                        </p>
				</section>
                <section>
                                        <h2>Tableau ?</h2>
					<blockquote cite="https://en.wikipedia.org/wiki/Array_data_structure">
					  &ldquo;En informatique, la structure de données tableau, ou simplement tableau, est une structure de données consistant en une collection d'éléments (valeurs ou variables), chacun identifié par au moins un index de tableau ou clé.&rdquo;
					</blockquote>
                                        <p align="right">
                                         source : Wikipedia.org - <a href="https://en.wikipedia.org/wiki/Array_data_structure">Tableau</a>
                                        </p>
				</section>

                                <section>
					                    <h2>Tableau</h2>
					                    <p>
                                          Un tableau en Javascript se déclare entre <b>[</b> et <b>]</b>.
                                         <br/>
                                          Les éléments sont séparés par des virgules.
                                         </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array1" rows="6" cols="25">
[1, 2, 3]
['a', 'b', 'c']

[true, 'hello', 4.5]
[]    /* empty array */
                                        </textarea></small>
                                        <small><div id="js-array1"></div></small>
                                        <p>
                                         Les tableaux sont hétérogènes, ils peuvent contenir des valeurs de types différents.
                                        </p>
				                </section>
                                <section>
					                    <h2>Index de tableau</h2>
					                    <p>
                                         Les cases d'un tableau sont accessible par un index
                                        </p>
                                        <p>
                                         Un accès hors des bornes (0, <b>length</b> -1) du tableau
                                        <br/> 
                                         renvoie <b>undefined</b>
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-index" rows="8" cols="20">
var array = [1, 2, 3];
array.length
array[0]
array[2]

array[3]
array[-1]
                                        </textarea></small>
                                        <small><div id="js-array-index"></div></small>
                                        <p><small>
                                         La première case d'un tableau est à l'index 0
                                        </small></p>
				                </section>
				                <section>
					                    <h2>Modfier un élément d'un tableau</h2>
					                    <p>
                                         Les cases d'un tableau sont accessibles en lecture et écriture
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-index2" rows="6" cols="30">
var array = ['a', 'b', 'c'];
array[0]

array[1] = 'bb8';
array
                                        </textarea></small>
                                        <small><div id="js-array-index2"></div></small>
                                        <p></p>
				                </section>
				                <section>
					                    <h2>Boucle sur un tableau</h2>
					                    <p>
                                         Une boucle <b>for</b> de 0 à <b>length</b> - 1 permet de
                                        <br/>
                                         parcourir tous les éléments
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-loop" rows="9" cols="45">
function printAll(array) {
  for(var i = 0; i < array.length; i++) {
    var element = array[i];
    console.log(element);
  }
}

printAll([42, true]);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                         <div id="js-array-loop" class="autojslog"></div>
                                        </small>
				                </section>
				                <section>
					                    <h2>Boucle sur un tableau (2)</h2>
					                    <p>
                                         Si on trouve le résultat, on peut arrêter la boucle
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-loop3" rows="13" cols="45">
function indexOf(array, value) {
  for(var i = 0; i < array.length; i++) {
    if (array[i] == value) {
      return i;
    }
  }
  return -1;
}

var array = ['h', 'e', 'l', 'l', 'o'];
console.log(indexOf(array, 'e'));
console.log(indexOf(array, 'z'));
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                         <div id="js-array-loop3" class="autojslog"></div>
                                        </small>
				                </section>
				                <section>
					                    <h2>Boucle sur un tableau (3)</h2>
					                    <p>
                                         Ne <b style="color: red">jamais</b> sortir d'une boucle en changeant un drapeau
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><div class="bad-container"><textarea autojslog="js-array-loop4" rows="13" cols="45">
function indexOf(array, value) {
  var notFound = true;
  for(var i = 0; notFound && i < array.length; i++) {
    if (array[i] == value) {
      notFound = false;
    }
  }
  if (notFound) { return -1; } else { return i; }
}

var array = ['h', 'e', 'l', 'l', 'o'];
console.log(indexOf(array, 'e'));
                                        </textarea><div class="bad-image"></div></div></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-loop4" style="color: red"></div>
                                        </small>
				                </section>
				                
				                <section>
					                    <h2>indexOf/lastIndexOf</h2>
					                    <p>
                                         <b>indexOf()</b> utilise == pour trouver la première occurence d'un élément et renvoie son index (ou -1)
                                        <br/>
                                         <b>lastIndexOf()</b>, même chose mais pour la dernière occurrence
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-indexof" rows="7" cols="35">
var array = ['h', 'e', 'l', 'l', 'o'];
array.indexOf('l')
array.indexOf('z')

array.lastIndexOf('l')
array.lastIndexOf('z')
                                        </textarea></small>
                                        <small><div id="js-array-indexof"></div></small>
                                        <p></p>
				                </section>
				                
				                <section>
					                    <h2>join()</h2>
					                    <p>
                                         <b>join(delimiteur)</b> permet de créer une chaine de caractères
                                         avec tous les éléments séparés par un délimiteur 
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-join" rows="4" cols="30">
var array = [1, 2, 5, 8];
array.join(",")
array.join(" ")
                                        </textarea></small>
                                        <small><div id="js-array-join"></div></small>
                                        <p></p>
				                </section>
				                <section>
					                    <h2>texte.split()</h2>
					                    <p>
                                         <b>texte.split(delimiteur)</b> permet de créer un tableau
                                        <br/>
                                         à partir d'une chaîne de caratères en découpant
                                        <br/>
                                         suivant le délimiteur
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-split" rows="4" cols="30">
var text = "1, 2, 5, 8";
text.split(",")
text.split(", ") 
                                        </textarea></small>
                                        <small><div id="js-array-split"></div></small>
                                        <p>&nbsp;</p>
                                        <p><small><b>text.split()</b> est le dual de <b>array.join()</b></small></p>
				                </section>
				                
				                <section>
					                    <h2>Tableaux dynamiques</h2>
					                    <p>
                                         <b>push()</b> permet d'ajouter un élément à la fin d'un tableau 
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-dyn" rows="10" cols="35">
function range(start, end) {
  var array = [];
  for(var i = start; i < end; i++) {
    array.push(i);
  }
  return array;
}

console.log(range(2, 5));
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-dyn" class="autojslog"></div>
                                        </small>
				                </section>
				                <section>
					                    <h2>Pile</h2>
					                    <p>
                                         Il existe aussi une méthode <b>pop</b> qui retire le dernier élément
                                         permettant d'utiliser un tableau comme une pile 
                                        </p>
                                        <p>&nbsp;</p>
                                        <img src="images/js-array-fun/stack.png"
                                               style="display: inline-block; vertical-align: top; margin: 0px 40px 0px 0px;"/>
                                        <div style="display: inline-block; vertical-align: top;">
                                         <small><textarea autojslog="js-array-stack" rows="8" cols="35">
var stack = [];
stack.push('a');
stack.push('b');
stack.push('c');
var value = stack.pop();
console.log(value);
console.log(stack);
                                         </textarea></small>
                                         <p></p>
                                         <small>
                                          <div id="js-array-stack" class="autojslog"></div>
                                         </small>
                                        </div>
                                        <p></p>
				                </section>
				                
				                <section>
					                    <h2>&Eacute;lément en tête</h2>
					                    <p>
                                         <b>shift()</b> décale les éléments vers la gauche
                                        <br/>
                                         (supprime le premier élément)
                                        <br/>
                                         <b>unshift</b> décale les éléments sur la droite
                                        <br/>
                                         (insère le premier élément)
                                        </p>
                                        <p>&nbsp;</p>
                                        <img src="images/js-array-fun/shift.png"
                                               style="display: inline-block; vertical-align: top; margin: 0px 40px 0px 0px;"/>
                                        <div style="display: inline-block; vertical-align: top;">
                                         <small><textarea autojs="js-array-shift" rows="7" cols="30">
var array = ['a', 'b', 'c', 'd'];
array.shift()
array

array.unshift('e')
array
                                         </textarea></small>
                                         <small><div id="js-array-shift"></div></small>
                                        </div>
                                        <p></p>
                                        <p><small>ces deux méthodes ont un temps d'exécution qui dépend du nombre d'éléments</small></p>
				                </section>
				                
				                <section>
					                    <h2>Sous-partie d'un tableau</h2>
					                    <p>
                                         <b>slice(start, end)</b> permet d'extraire la sous partie [<em>start</em>,&nbsp;<em>end</em>[ d'un tableau sous forme d'un nouveau tableau
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-slice" rows="5" cols="35">
var array = ['a', 'b', 'c', 'd', 'e'];
array.slice()
array.slice(1)
array.slice(2, 4)
                                        </textarea></small>
                                        <small><div id="js-array-slice"></div></small>
                                        <p><small>
                                         contrairement aux méthodes précédentes, <b>slice</b> ne modifie pas le tableau sur lequel
                                         on appelle la méthode mais renvoie un nouveau tableau
                                        </small></p>
				                </section>
				                <section>
				                        <h2>Suppression/Insertion au milieu</h2>
					                    <p>
                                         <b>splice(start, deleteCount, elements)</b> supprime <em>deleteCount</em> éléments à l'index <em>start</em>
                                         et de les remplace par des <em>elements</em>
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-splice" rows="8" cols="40">
var array1 = ['a', 'b', 'c', 'd', 'e'];
array1.splice(1, 2);
console.log(array1);

var array2 = ['a', 'b', 'c', 'd', 'e'];
array2.splice(2, 0, 'c3po', 'd2r2');
console.log(array2);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-splice" class="autojslog"></div>
                                        </small>
                                        <p><small>
                                         Attention à ne pas confondre <b>slice</b> et <b>splice</b> !
                                        </small></p>
				                </section>
				                
				                <section>
				                        <h2>Programmation fonctionnelle</h2>
				                </section>
				                <section>
					<h2>Functional Programming ?</h2>
					<blockquote cite="https://en.wikipedia.org/wiki/Functional_programming">
					  &ldquo;In computer science, functional programming is a programming paradigm that treats computation as the evaluation of mathematical functions
					  and avoids changing-state and mutable data (side effects).
					</blockquote>
                                        <p align="right">
                                         source: Wikipedia.org - <a href="https://en.wikipedia.org/wiki/Functional_programming">Functional Programming</a>
                                        </p>
				</section>
				<section>
					<h2>Programmation Fonctionnel ?</h2>
					<blockquote cite="https://en.wikipedia.org/wiki/Functional_programming">
					  &ldquo;En informatique, la programmation fonctionnelle est un paradigme de programmation qui traite chaque calcul comme l'évaluation
					  de fonctions mathématiques et évite les changements d'état et les données mutables (effets de bord).&rdquo;
					</blockquote>
                                        <p align="right">
                                         source: Wikipedia.org - <a href="https://en.wikipedia.org/wiki/Functional_programming">Programmation fonctionnelle</a>
                                        </p>
				</section>
				<section>
					                    <h2>Trier un tableau</h2>
					                    <p>
                                         La fonction <b>sort()</b> permet de trier un tableau sur place
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-sort" rows="5" cols="35">
var array = ['vera', 'bob', 'elena'];

array.sort();
array
                                        </textarea></small>
                                        <small><div id="js-array-sort"></div></small>
                                        <p>&nbsp;</p>
                                        <p></p>
				</section>
				<section>
					                    <h2>Trier un tableau (2)</h2>
					                    <p>
                                         Par défaut, les comparaisons se font
                                        <br/> 
                                         sur les chaines de caractères. 
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><div class="bad-container"><textarea autojs="js-array-sort2" rows="6" cols="35">
var array = [1, 10, 2, 100];

array.sort();
array
                                        </textarea><div class="bad-image"></div></div></small>
                                        <small><div id="js-array-sort2"></div></small>
                                        <p>&nbsp;</p>
                                        <p>
                                         ce qui n'est pas forcément ce que l'on veut !
                                        </p>
				</section>
				<section>
					                    <h2>Trier avec une fonction de comparaison</h2>
					                    <p>
                                         On utilise une fonction de comparaison pour paramétrer <b>sort(fun)</b> !
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-sort3" rows="8" cols="30">
function cmp(v1, v2) {
  return v1 - v2;
}

var array = [1, 10, 2, 100];
array.sort(cmp);
console.log(array);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-sort3" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>Fonction de comparaison</h2>
					                    <p>
                                         doit renvoyer une valeur négative si la première valeur est plus petite,
                                         0 si les deux valeurs sont égales et une valeur positive sinon
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-cmp" rows="8" cols="30">
function cmp(v1, v2) {
  return v2 - v1;
}

var array = [1, 10, 2, 100];
array.sort(cmp);
console.log(array);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-cmp" class="autojslog"></div>
                                        </small>
				</section>
				
				<section>
					                    <h2>Fonction anonyme</h2>
					                    <p>
                                         JavaScript possède une notation
                                        <br/> 
                                         pour les <b>fonctions anonymes</b>
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-anonfun" rows="8" cols="30">
var cmp = function(v1, v2) {
  return v1 - v2;
}

var array = [1, 10, 2, 100];
array.sort(cmp);
console.log(array);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-anonfun" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>Fonction anonyme (2)</h2>
					                    <p>
                                         que l'on peut passer directement en argument
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-anonfun2" rows="6" cols="30">
var array = [1, 10, 2, 100];
array.sort(function(v1, v2) {
  return v1 - v2;
});
console.log(array);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-anonfun2" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>ForEach</h2>
					                    <p>
                                         <b>forEach(fun)</b> applique la même fonction à chaque valeur
                                        <br/>
                                         <small>comme une boucle sans écrire la boucle !</small>
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-forEach" rows="5" cols="35">
var array = [1, 2, 5, 6, 7];
array.forEach(function(v) {
  console.log(v);
});
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-forEach" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>Map</h2>
					                    <p>
                                         <b>map(fun)</b> applique la même fonction à chaque valeur
                                         dans un nouveau tableau
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-map" rows="6" cols="35">
var array = [1, 2, 5, 6, 7];
var array2 = array.map(function(v) {
  return 2 * v;
});
console.log(array2);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-map" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>Filter</h2>
					                    <p>
                                         <b>filter(fun)</b> permet d'obtenir un tableau de valeurs respectant une propriété
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-filter" rows="6" cols="35">
var array = [1, 2, 5, 6, 7];
var array2 = array.filter(function(v) {
  return v % 2 == 0;
});
console.log(array2);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-filter" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>some/every</h2>
					                    <p>
                                         <b>some</b> renvoie vrai dès qu'une propriété est vérifiée
                                        <br/>
                                         <b>every</b> demande à ce que la propriété soit vraie sur toutes les valeurs
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-some-every" rows="8" cols="45">
function greaterThan10(v) {
  return v >= 10;
}

var array = [12, 32, 4];
console.log(array.some(greaterThan10));
console.log(array.every(greaterThan10));
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-some-every" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>et les index ?</h2>
					                    <p>
                                   Les méthodes <b>forEach</b>, <b>map</b>, <b>filter</b>, <b>some</b>, <b>every</b>
                                   prennent une fonction avec 2 arguments (<b>élément</b>, <b>index</b>) en paramètres
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojs="js-array-fun-index" rows="7" cols="55">
var array = [1, 7, 14, 55];

array.map(function(e, index) { return index; })
array.filter(function(e, index) { return index >= 2; })
array.some(function(e, index) { return index >= 2 && e <= 15; })
array.every(function(e, index) { return index >= 2 && e <= 15; })
                                        </textarea></small>
                                        <small><div id="js-array-fun-index"></div></small>
                                        <p><small>En JavaScript, une fonction peut prendre moins de paramètres que d'arguments</small></p>
				</section>
				<section>
					                    <h2>Reduce</h2>
					                    <p>
                                         <b>reduce(fun, init)</b> résume par une valeur en appliquant une fonction d'agrégation
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-reduce" rows="6" cols="35">
var array = [1, 2, 5, 6, 7];
var sum = array.reduce(function(acc, v) {
  return acc + v;
}, 0);
console.log(sum);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-reduce" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>filter/map/reduce</h2>
					                    <p>
                                         Il est possible de combiner les opérations
                                        <br/>
                                         par ex., compter le nombre de mots commençant par 'b'
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-fam" rows="10" cols="35">
var array = ['foo', 'bar', 'baz'];
var count = array.filter(function(s) {
  return s.charAt(0)== 'b';
}).map(function(s) {
  return 1;
}).reduce(function(v1, v2) {
  return v1 + v2;
}, 0);
console.log(count);
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-fam" class="autojslog"></div>
                                        </small>
				</section>
				
				<section>
					                    <h2>closure</h2>
					                    <p>
                                         Une fonction anonyme a accès aux variables de la fonction englobante
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-closure" rows="11" cols="45">
function greaterThan(max) {
  var fun = function(v)  {
    return v >= max;           // on accède à max
  };
  return fun;
}

var array = [12, 32, 4];
console.log(array.some(greaterThan(10)));
console.log(array.every(greaterThan(10)));
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-closure" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>closure (2)</h2>
					                    <p>
                                         que l'on peut aussi écrire comme cela
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><textarea autojslog="js-array-closure2" rows="10" cols="45">
function greaterThan(max) {
  return function(v)  {
    return v >= max;           // on accède à max
  };
}

var array = [12, 32, 4];
console.log(array.some(greaterThan(10)));
console.log(array.every(greaterThan(10)));
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-closure2" class="autojslog"></div>
                                        </small>
				</section>
				<section>
					                    <h2>closure et boucle</h2>
					                    <p>
                                         Mettre une closure dans une boucle est <b style="color: red">interdit</b> !
                                        </p>
                                        <p>&nbsp;</p>
                                        <small><div class="bad-container"><textarea autojslog="js-array-closure-loop" rows="8" cols="45">
var array = [];
for(var i = 0; i < 3; i++) {
  array.push(function() {
    console.log(i);
  });
}
array.forEach(function(f) { f(); });
                                        </textarea><div class="bad-image"></div></div></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-closure-loop" class="autojslog"></div>
                                        </small>
                                        <p><small>
                                         La même variable <b>i</b> est utilisée par toutes les closures
                                        </small></p>
				</section>
				<section>
					                    <h2>closure et boucle (2)</h2>
					                    <p>
                                         On utilise une fonction intermédiaire !
                                        </p>
                                        <small><textarea autojslog="js-array-closure-loop2" rows="12" cols="45">
function pushToArray(array, i) {
  array.push(function() {
    console.log(i);
  });
}

var array = [];
for(var i = 0; i < 3; i++) {
  pushToArray(array, i);
}
array.forEach(function(f) { f(); });
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-closure-loop2" class="autojslog"></div>
                                        </small>
                                        <p>
                                         <small>Chaque appel à <b>pushToArray</b> crée une nouvelle variable <b>i</b></small>
                                        </p>
				</section>
				<section>
					                    <h2><a href="https://en.wikipedia.org/wiki/Immediately-invoked_function_expression">Immediately Invoked Function Expression</a> (IIFE)</h2>
					                    <p>
                                         ou encore une closure en tant que fonction intermédiaire
                                        </p>
                                        <small><textarea autojslog="js-array-closure-loop3" rows="10" cols="45">
var array = [];
for(var i = 0; i < 3; i++) {
  (function(i) {        // on cree un nouveau scope
    array.push(function() {
      console.log(i);
    });
  })(i);   // on envoie i
}
array.forEach(function(f) { f(); });
                                        </textarea></small>
                                        <p></p>
                                        <small>
                                          <div id="js-array-closure-loop3" class="autojslog"></div>
                                        </small>
                                        <p>
                                         <small>La closure crée une nouvelle variable <b>i</b></small>
                                        </p>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                                        { src: 'plugin/autoeval/autoeval.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
